1988-08-10  dickey@software.org

	* src/ded.c:
	hack to make the terminal reset ok on exit in apollo sys5-environment.
	still is not right; something about resetty/endwin (?)

	* src/ded.h: made this compile on apollo sys5 environment

	* src/dedline.c: made this compile in apollo sys5-environment

1988-08-09  dickey@software.org

	* src/README: note about beep/blip

	* src/ded.h, src/dedtype.c, src/dedsort.c: lint

1988-08-04  dickey@software.org

	* src/dedscan.c:
	use debug-option to show what we try to stat in 'dedscan()'.

	* src/ded.c: added a debug-option.

1988-08-03  dickey@software.org

	* src/Makefile: rewrote into standard format.

	* src/Makefile: added 'destroy', 'sources' production.

	* src/ded.c:
	tinkering with 'markset()', 'openVIEW()' to avoid infinite loop when
	we adjust viewport size, as well as to make the adjustment a bit smarter.
	Also, added call on 'dedsigs()' so we activate the signal-catching.

	* src/dedline.c:
	lots of tinkering so that we can interrupt group-operations.
	also, make u,g commands map-thru symbolic links like the p-command was.
	(some cleanup of the map-thru logic).

	* src/version.h:
	added signal-handling, and first version of split-screen.

	* src/dedsigs.c: New file.

	* src/deddoit.c:
	fix so that signals don't kill us from child's expiration

	* src/ftree.c: added signal-catcher in 'ft_scan()'.

	* src/README: fixed a bunch of bugs (trying to get rid of this list)

	* src/Makefile: added 'dedsigs.c' module.

1988-08-02  dickey@software.org

	* src/deddoit.c:
	mods to avoid clobbering old-command if no new one is given.
	also, use 'execute()' so we can fix signals there.

	* src/ded.c: ensure that 'to_file()' does its tests after 'viewset()'!

	* src/ded.hlp: adjusted left/right scrolling amount.

	* src/ded.c:
	column-scale on workspace-marker, use count for left/right scroll.

	* src/dedscan.c: use new def's in "ded.h".

	* src/dedname.c: use new def's in "ded.h"

	* src/dedline.c: use new def's in "ded.h".

	* src/dedfind.c, src/ded.c: use new def's in "ded.h"

	* src/ded.h: added some def's so we needn't use subscripted 'flist[]'.

	* src/deddoit.c: use new def's in "ded.h"

	* src/dedsort.c: use new procedure 'findFILE()'.

	* src/ded.c:
	implemented a crude split-window toggle (does not always update tags,
	and inline-commands).  want to modify dedring so that the split-portion is a
	separate set of data entirely, so this problem will go away -- sort of.

	* src/dedscan.c: lint

1988-08-01  dickey@software.org

	* src/dedline.c: New file.

	* src/ded.c:
	broke 'dedline.c' out of 'ded.c', since it was getting too big.

	* src/Makefile:
	added auto-get production; broke 'dedline.c' out of 'ded.c'

	* src/ded.c: moved Xbase, Ybase to ring-structure.

	* src/dedring.c: save/restore Xbase,Ybase

	* src/ded.h: moved Xbase,Ybase to ring-structure.

1988-07-28  dickey@software.org

	* src/ded2s.c:
	added fall-thru for '_toupper()', which wasn't defined on the sun.

	* src/README: note about signals.

1988-07-27  dickey@software.org

	* src/ded.c:
	modified 'editfile()' to support X-window, so we call it even on non-Apollo systems.

	* src/ded.c:
	use 'execute()' as the guts of 'forkfile()', since it works faster and
	also parses arguments.

	* src/dedsort.c:
	correction to 'v', 'y' sorting -- only 'z_time' is guaranteed to be set.

	* src/ded.hlp: added level-count to ftree's R-command.

	* src/ftree.c: reversed sense of 'I' command.
	correctly show need for 'W' after ft_purge is invoked; also show "?" in header
	if ft_write fails.

	* src/ftree.c: optimized 'fd_slow()'

1988-07-25  dickey@software.org

	* src/ded.c: lint

	* src/version.h:
	added repeat/level count argument to directory-tree 'R' command.

	* src/ftree.c:
	added repeat-count to 'R' command so it can recur to a given number of
	levels.  altered pacifier display to make it more descriptive to accommodate.

1988-07-11  dickey@software.org

	* src/version.h: added tagsort-capability.

	* src/ded.hlp: added description of 'tagsort' capability.

	* src/dedsort.c:
	implement tagsort: if set, tagged files are sorted to the beginning of
	the sorted list.

	* src/dedring.c: save/restore 'tagsort'.

	* src/ded.c:
	if '+' follows 'r' or 's', set tagsort before obtaining sort-key.

	* src/ded.h: added 'tagsort' global.

1988-07-08  dickey@software.org

	* src/version.h: ftree-rename not done, but harmless.

	* src/dedring.c: corrections to code which save/restore Y_opt, AT_opt.

1988-07-06  dickey@software.org

	* src/ftree.c:
	rewrote 'ft_rename()' so that children are moved with parent.

1988-06-29  dickey@software.org

	* src/ftree.c:
	added temporary '=' command to test 'ft_rename'.  Some other massaging
	(e.g., 'waitmsg()', 'node2col()', 'node2row()').

	* src/ded.c:
	changed args on 'waitmsg()' so we can use it from 'ftree' to replace 'dedmsg()'

1988-06-27  dickey@software.org

	* src/README: more on renaming directories.

	* src/ftree.c:
	recoded 'ft_purge()' -- don't need recursive marking via 'do_purge()'!

	* src/dedring.c:
	recoded 'dedrung()' -- wasn't working with abs(count) > 1.

1988-06-16  dickey@software.org

	* src/README: new release: added '@' toggle.

	* src/ded.c: save/restore AT_opt if needed in 'editprot()'.

	* src/ded2s.c: for '@' toggle, keep showing link-to-directory name.

	* src/dedscan.c: more tinkering with AT_opt versus ltxt values.

	* src/version.h: added '@' toggle.

	* src/dedring.c: added AT_opt to global state.

	* src/ded.c: corrected fall-thru in 'failed()' for apollo.
	added code to toggle symbolic-link display (AT_opt).

	* src/ded2s.c:
	added code to show filemode of symbolic links in uppercase if AT_opt is set.

	* src/ded.h: added AT_opt (for '@' toggle)

	* src/ded.hlp:
	added '@' toggle so we can control display of symbolic links vs target

1988-06-13  dickey@software.org

	* src/README: more bugss..

1988-06-07  dickey@software.org

	* src/version.h, src/dedtype.c: added screen-dump command.

	* src/deddump.c: New file.

	* src/ded.hlp: added screen-dump command.

	* src/Makefile: added 'deddump.c' module.

	* src/ded.c, src/ftree.c: added screen-dump command.

1988-06-06  dickey@software.org

	* src/version.h:
	fix for 'R'-exit. Store ".ftree" in process's home, not login-home.

	* src/ded.c:
	corrected attempt to make 'R' leave cursor on the current file.

	* src/README: fixed 'R'-exit hole.

	* src/ded.c:
	Recover in 'R' by trying to do a 'F' command if we find no files.

	* src/ded.h: use 'gethome()' for ".ftree" file.

	* src/ftree.c: use 'gethome()' for ".ftree".

1988-06-01  dickey@software.org

	* src/ded.c: correction to make 'y'-sort work ok.

	* src/ftree.c: added SCCS_DIR environment variable.

	* src/dedscan.c: added 'z_lock' field for rcs/sccs.

	* src/ded2s.c: added 'Y' (lock-owner) field.

	* src/ded.hlp: added Y-toggle, y-sort.

	* src/dedring.c: added 'Y'-toggle, reset with 'V', 'Z'.

	* src/version.h: 'Y' toggle does rcs/sccs locker.

	* src/ded.c: added 'Y' toggle, 'y'-sort.

	* src/dedsort.c: added 'y'-sort for rcs/sccs lock-owner.

	* src/ded.h:
	added data to control Y-toggle, y-sort for rcs/sccs lock-owner.

1988-05-26  dickey@software.org

	* src/README: new ideas.

	* src/version.h: new version (no new features)

	* src/ded.c:
	make 'failed()' do self-kill only if a message is given (covers up the
	case in which no files are found on initial scan).

	* src/dedscan.c:
	chunk reallocation of 'flist[]' so we don't fragment on big directories.

1988-05-25  dickey@software.org

	* src/ded.c:
	corrected some refresh-related stuff with 'edittext()' calls & tags.

	* src/dedring.c:
	reset V,Z sccs/rcs flags when entering new directory with 'E'.

1988-05-24  dickey@software.org

	* src/Makefile: added 'all' production.

1988-05-23  dickey@software.org

	* src/ded.c: use 'setmtime()', corrected masking in 'replay()'.

	* src/ded.hlp: added '.' sort-key.

	* src/version.h: Use 'dotcmp()', 'setmtime()'.

	* src/ded.h, src/dedscan.c: absorbed 'z_rels' into 'z_vers'.

	* src/dedsort.c: use 'dotcmp()' for RCS/SCCS version & '.' sorts.

	* src/ded2s.c: absorbed 'z_rels' into 'z_vers'.

1988-05-18  dickey@software.org

	* src/ded.hlp: Documented extended ''-substitution.

	* src/version.h: Added hook for 'rcslast()'.

	* src/dedscan.c: added hook for 'rcslast()'.

	* src/ded.h: added 'Z_RCS' definition.

	* src/version.h: '' shell substitution completed.

	* src/ded2s.c: show Apollo inodes in hex.

	* src/dedring.c: added 'dedrung()' entrypoint.

	* src/deddoit.c: recoded ''-substitution

	* src/README: fixed some stuff for gould port.

1988-05-17  dickey@software.org

	* src/ftree.c: lint (gould)

	* src/ded.h: gould has obsolete 'off_t' definition.

	* src/dedtype.c: lint (gould)

1988-05-16  dickey@software.org

	* src/dedring.c: getcwd/getwd porting.

	* src/dedscan.c: getwd/getcwd porting.

	* src/ded.c, src/ded.h: getcwd/getwd porting.

	* src/README: more bugs

	* src/ftree.c: patched intermittent refresh of 'dedrang()' markers.

	* src/version.h: resizewin fixed!

	* src/ded.c:
	permit 'tb' walkback after failure on Apollo by using 'kill' rather than 'exit()'.

	* src/dedscan.c: do ft_linkto only for links to directory.

	* src/README: new version, new bugs

	* src/ftree.c:
	Added I, U commands.  Added 'RCS' under 'sccs'-directory treatment.

	* src/ded.hlp: added I, U toggles to ftree.

1988-05-13  dickey@software.org

	* src/Makefile: make this portable to Gould.

1988-05-11  dickey@software.org

	* src/dedname.c: New file.

	* src/version.h: use 'rename()' on bsd4.2 to rename directories.

	* src/README: more bugs...

	* src/ded.c: broke out 'dedname()'; lint.

	* src/dedfind.c, src/ded2s.c: lint

	* src/ftree.c: added (first cut) of 'ft_rename()' entrypoint.

	* src/ded.h: more lint-definitions.

	* src/Makefile: broke 'dedname.c' out of 'ded.c'

1988-05-10  dickey@software.org

	* src/version.h: use 'txtalloc()'.

	* src/ftree.c: recoded use of 'stralloc'.

	* src/dedscan.c, src/dedring.c: recoded use of 'free', 'stralloc'

	* src/dedfree.c: recoded use of 'free'

	* src/dedfree.c: sccs2rcs keywords

1988-05-10  ste_cm@software.org

	* src/dedfree.c:
	BASELINE Fri Oct 27 12:27:25 1989 -- apollo SR10.1 mods + ADA_PITS 4.0

	* src/dedfree.c: BASELINE Mon Apr 30 09:54:01 1990 -- (CPROTO)

	* src/dedfree.c: BASELINE Mon Aug 13 15:06:41 1990 -- LINCNT, ADA_TRANS

	* src/dedfree.c: BASELINE Mon Jun 19 14:21:57 EDT 1989

	* src/dedfree.c: BASELINE Thu Apr  6 13:14:13 EDT 1989

	* src/dedfree.c:
	BASELINE Thu Aug 24 10:20:06 EDT 1989 -- support:navi_011(rel2)

	* src/dedfree.c:
	BASELINE Thu Mar 29 07:37:55 1990 -- maintenance release (SYNTHESIS)

1988-05-10  dickey@software.org

	* src/ded.c: use 'txtalloc()' rather than 'stralloc()'.

	* src/ded.h: added 'FREE' macro.

1988-05-09  dickey@software.org

	* src/version.h: ironed out differences between Apollo/Sun versions.

	* src/ftree.c:
	adjusted 'E' command on gould port so that we chdir to the parent
	directory before interpreting a link -- needed this case for gould port.

	* src/README: resolved some stuff in Gould port.

	* src/ded.c:
	tinkering with screen-refresh between directory/file lists.

	* src/dedring.c: lint, for gould port.

	* src/ded2s.c: gould port: sockets do not have major/minor numbers

	* src/dedfree.c: lint

	* src/dedsort.c:
	fixed (from gould port) the s-field sorting for devices.

	* src/dedscan.c: corrected pathname for ftree (gould port)

1988-05-06  dickey@software.org

	* src/Makefile: port to gould

	* src/README: bugs to resolve after first gould port.

	* src/ded.c:
	markC() caused segmentation violation on gould, from E in ftree!

	* src/ftree.c:
	corrected bug in link-resolution for 'E' command (gould port)

	* src/dedscan.c: forgot to check for ".", ".." names (gould-port)

	* src/ded2s.c: lint

	* src/version.h: W,Q commands added to ftree.

	* src/dedfind.c:
	recoded use of regex-procedures to make this more portable.

	* src/README: new notes.

	* src/ftree.c: recoded use of regex to make it more portable.

	* src/ded.h:
	added macros to cover differences in regex between SYSTEM5/BSD4.x

	* src/ded.h: added DOALLOC macro for lint.

	* src/dedring.c: lint: DOALLOC.
	Also, added code to coerce translation of pathnames in case a symbolic link was
	not translated in the given argument (happens in '@' command of ftree).

	* src/dedtype.c, src/ftree.c, src/dedscan.c: lint: DOALLOC

	* src/ded.hlp: added 'W' command to directory-tree.

	* src/ftree.c:
	Added 'W' command, modified newline & return for cursor movement.

	* src/ded.hlp: documents q/Q in directory tree.

	* src/ftree.c: added 'Q' command.

1988-05-05  dickey@software.org

	* src/dedring.c: added 'Q' command.

1988-05-03  dickey@software.org

	* src/ftree.c: purge obsolete items in 'ft_scan()'.

	* src/README: fixed some bugs, added more.

	* src/ftree.c: added J,K cursor movement.

	* src/version.h: more fixes to symbolic links

	* src/ded.c: added P,s,t subcommands to 'p' command.

	* src/ded.hlp: added some subcommands to 'p'.

	* src/ftree.c: more fixes for symbolic links (F,E,B commands).

1988-05-02  dickey@software.org

	* src/dedring.c:
	force 'q' command to start with the current directory, not the location
	in the directory tree.

	* src/ded.c: fixes for latest mods to ftree 'q' command.

	* src/version.h: first release version (documented)

	* src/dedtype.c:
	fixes to window-refresh, repeat-count (for forward-command) and allocation (was static!).

	* src/ded.hlp: moved to-do list to 'Bugs'.

	* src/README: New file.

	* src/ftree.c:
	made 'q' command free current dedring-list until there is only one -- then return

	* src/dedring.c:
	corrected repeat count on F,B.  Added 'q' (quit-current-list).

	* src/Makefile: broke out 'dedfree.c'

	* src/dedfree.c: New file.

	* src/dedscan.c:
	broke out 'dedfree()' so I can use it from 'dedring()'.

	* src/ded.c: added arrow keys to inline field editing.

	* src/ftree.c: added '^' command.

	* src/ftree.c: invoke 'resize()' on 'w' refresh.

1988-04-28  dickey@software.org

	* src/dedring.c: forgot to sort new lists after reading them.

	* src/ftree.c: made directory-ring markers more visible.
	also, in 'p' command, must set pointer to first non-purged *visible* position.

	* src/version.h: ded is essentially complete...

	* src/ded.c:
	lots of cleanup: ftree integration, inline-editor changes (like rawgets)
	and the "=" rename command, as well as '"' replay-command.

	* src/ded.hlp:
	more integration of ftree; made inline editor more like rawgets

	* src/dedring.c: New file.

	* src/ftree.c: integrated with 'dedring()' module

1988-04-27  dickey@software.org

	* src/Makefile: replaced 'fring.c' by 'dedring.c'

	* src/ded.h:
	added top_argc, top_argv to simplify 'dedring()' interface.

	* src/version.h: fixes to 'rawgets()'.

	* src/deddoit.c: let 'rawgets()' print its buffer itself!

	* src/ftree.c: let 'rawgets()' print its own buffer!

	* src/Makefile: broke 'cmdch.h' out of 'ded.h'

	* src/ded.h: broke cmdch.h out of ded.h

1988-04-26  dickey@software.org

	* src/ftree.c:
	After 'p' (purge), move above changes to simplify repositioning to a
	legal row.  Also, make 'R' do scan a la file-list.

1988-04-22  dickey@software.org

	* src/ded.hlp: began documenting directory-tree

	* src/ftree.c: added 'ft_linkto' entrypoint.

	* src/dedscan.c: integration with 'ftree' module

	* src/dedwait.c: reinstated argument to 'retouch()'.

	* src/ded.c:
	reinstated argument of 'retouch()'; moved resizewin() code there.

	* src/ftree.c: modified interface to 'unsavewin()'.

	* src/dedtype.c: modified interface to unsavewin().

1988-04-21  dickey@software.org

	* src/version.h: refresh/resize enhancements

	* src/ded.c:
	generally fixed up refresh/repaint using new modules savewin & resizewin

	* src/ded.hlp: partial fix to refresh problems.

	* src/dedtype.c: added 'w' (refresh) command.

	* src/ftree.c:
	corrected 'w' (refresh) so it works properly with curses.

	* src/dedwait.c: lint

1988-04-11  dickey@software.org

	* src/version.h: 'U' command affects '#'-substitution now too.

	* src/ded2s.c:
	integrated guts of 'fixname()' here so we can issue Aegis-style commands
	when 'U' command is set.

	* src/ded.c:
	integrated 'fixname()', 'name2s()' so we can issue Aegis-style commands.

1988-04-05  dickey@software.org

	* src/ftree.c: don't give up if ".ftree" hasn't been initialized!

	* src/ded.c: revised dynamics of 'chgrp' interface.

1988-03-28  dickey@software.org

	* src/ded.c:
	forgot to save ".ftree" when 'e' command is invoked from ft_view().

1988-03-25  dickey@software.org

	* src/ded.c: Began interface to 'ftree' module (far from done!).
	Added ':' command (to exploit 'rawgets'), corrected bug in '+', '-' which
	caused long delay on long report-count.  Corrections to screen-refresh.

	* src/deddoit.c: had a refresh in the wrong place

	* src/version.h: --enough for today

	* src/ded.hlp: implemented ':'

	* src/version.h: --

	* src/deddoit.c:
	Implemented ':'-command, buffer-limit check & escaped-insertion of '#', ''.

	* src/dedfind.c: use 'rawgets()' for input.

	* src/ftree.c: comments

	* src/Makefile: mods to make 'ftree.c', 'fring.c' part of 'ded'.

1988-03-24  dickey@software.org

	* src/ftree.c:
	don't call 'ft_scan()' from 'i' command if item is a link!

	* src/ftree.c:
	made this module run standalone (again), this time as a bsd4.2 program.

	* src/ded.h: moved directory-op definitions here from 'dedscan.c'

	* src/dedscan.c:
	moved <sys/dir.h> & related definitions to "ded.h" to share with ftree.c

	* src/Makefile:
	temporary: build 'ftree' to get it working in bsd4.2, standalone.

1988-02-01  dickey@software.org

	* src/ded.c:
	Make 'l' command refresh entire group, some cleanup of 'restat()' calls.

	* src/deddoit.c: Don't refresh screen if we had a null command.

1987-12-14  dickey@software.org

	* src/ded.hlp: added pad-edit commands.

	* src/ded.c, src/version.h: added 'padedit()' module.

	* src/ftree.c:
	revised ".ftree" data format to permit long bsd-style names.

1987-12-02  dickey@software.org

	* src/ftree.c:
	first cut at handling APOLLO environment ("//" prefix on nodenames).

	* src/ded.c: use 'to_exit()' to make clean exit from curses-windows.

1987-12-01  dickey@software.org

	* src/Makefile:
	oops: BSD 'make' does not inherit environment variables...

	* src/ded.c:
	Broke out 'command()' as 'cmdch()'.  Renamed 'fatal()' to 'failed()'.
	Added '*', '^', '' commands.

	* src/version.h: more cleanup.

	* src/dedwait.c: New file.

	* src/deddoit.c:
	Changed 'text[]' to global 'bfr_sh[]'.  Added logic for 'clr_sh'.

	* src/Makefile: Made a more conventional install-production.
	Put most objects into archive to shorten the length of command-lines.

	* src/ded.hlp: corrections to '', '*', '.' documentation.  Added '^'.

	* src/dedshow.c: New file.

	* src/ded.h: added global state of SHELL-command (bfr_sh, clr_sh).

	* src/dedtype.c: broke out 'command()' as 'cmdch()'

1987-11-30  dickey@software.org

	* src/ded.c: more error checking

1987-11-25  dickey@software.org

	* src/ded.c: added sccs-related commands.
	reserved commands in main-switch (for later development).
	linted.

	* src/version.h: sccs support

	* src/version.h: New file.

	* src/Makefile: added version-control string.

	* src/ded2s.c:
	added support for sccs-related displays, as well as for 'U' (unix/apollo) toggle.

	* src/dedsort.c: added sccs-related sorting.

	* src/ded.hlp: added sccs-related commands.

	* src/ded.h: added sccs-related support variables.

	* src/dedscan.c: lint, added support for sccs-data

1987-11-24  dickey@software.org

	* src/deddoit.c, src/dedtype.c: lint, sccs-id.

	* src/Makefile: made lint workable on apollo with 'tdlint' hack.

	* src/dedfind.c: lint, sccs-id.

1987-11-23  dickey@software.org

	* src/ded.hlp: New file.

1987-11-20  dickey@software.org

	* src/Makefile, src/ded.c, src/dedsort.c, src/ded2s.c, src/ded.h:
	New file.

1987-11-19  dickey@software.org

	* src/dedtype.c, src/dedfind.c, src/deddoit.c: New file.

1987-11-18  dickey@software.org

	* src/dedscan.c: New file.

1987-10-01  Thomas E. Dickey

	* src/ftree.c: corrected test-for-permissions in 'ft_write()'.

1987-09-30  Thomas E. Dickey

	* src/ftree.c:  added a regular search facility a la vi.

1987-09-29  Thomas E. Dickey

	* src/ftree.c: added '@' (position-at-directory) command.

1987-09-28  Thomas E. Dickey

	* src/ftree.c: mods to reduce calls on 'getcwd()'.

1987-09-17  Thomas E. Dickey

	* src/ftree.c:
	broke out 'abspath()' to try to reduce the clutter caused by 'denode()'!

	* src/ftree.c:
	ensure that an arbitrary node will be visible (e.g., when originally invoking the display).

1987-09-16  Thomas E. Dickey

	* src/ftree.c: mods to support 'fring' module.
	Corrected 'fd_prep()' to strip ".." in relative paths.

	* src/ftree.c:
	workable interface with 'fl'; still have to do 'fring' module.

1987-09-15  Thomas E. Dickey

	* src/ftree.c: first version integrated with 'fl'.

1987-09-11  Thomas E. Dickey

	* src/ftree.c: forward/backward scrolling complete.

1987-09-10  Thomas E. Dickey

	* src/ftree.c: move cursor movement.

	* src/ftree.c: improvements to scrolling

1987-09-08  Thomas E. Dickey

	* src/ftree.c: New file.

